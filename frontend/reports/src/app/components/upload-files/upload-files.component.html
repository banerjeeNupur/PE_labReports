<app-navbar></app-navbar>

<div class="main-div">
  <div class="cards">
    <mat-card class="card">

      <mat-card-header>
        <mat-card-title>Upload files</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <div *ngFor="let progressInfo of progressInfos" class="mb-2">
          <span>{{ progressInfo.fileName }}</span>
          <div class="progress">
            <div class="progress-bar progress-bar-info progress-bar-striped" role="progressbar"
              attr.aria-valuenow="{{ progressInfo.value }}" aria-valuemin="0" aria-valuemax="100"
              [ngStyle]="{ width: progressInfo.value + '%' }">
              {{ progressInfo.value }}%
            </div>
          </div>
        </div>

        <label class="btn btn-default">
          <input type="file" multiple (change)="selectFiles($event)" />
        </label>

        <button class="btn btn-success" [disabled]="!selectedFiles" (click)="uploadFiles()">
          Upload
        </button>

        <button class="btn btn-success" (click)="parseFiles()" id="parse_button"
          style="visibility:hidden; margin-left:2ex;">
          Parse
        </button>
      </mat-card-content>


      <mat-card-footer>
        <p class="alert alert-success" role="alert" id="div_upload_message" style="display: none;">
          {{ message }}
        </p>
      </mat-card-footer>
    </mat-card>

  </div>
</div>